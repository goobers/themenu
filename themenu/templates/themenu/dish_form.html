{% extends "themenu/layout.html" %}

{% block body %}

<form id="dish-create-form" action="." method="post">{% csrf_token %}
  {{ form.non_field_errors }}
  <div class="fieldWrapper">
    {{ form.name.errors }}
    {{ form.name.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.name }}
  </div>
  <div class="fieldWrapper">
    {{ form.notes.errors }}
    {{ form.notes.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.notes }}
  </div>
  <div class="fieldWrapper">
    {{ form.source.errors }}
    {{ form.source.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.source }}
  </div>
  <div class="fieldWrapper">
    {{ form.recipe.errors }}
    {{ form.recipe.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.recipe }}
  </div>

  <!-- ManyToMany fields- Select2 multiple fields -->
  <!-- start with a dummy, blank field -->
  <div style="display: none" id="ingredient-container-0" class="ingredient-container row fieldWrapper">
    <div class="ingredient-div col-md-6 col-sm-6">
    {{ form.ingredient.errors }}
    {{ form.ingredient.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.ingredient }}
    </div>
    <div class="amounts-div col-md-4 col-sm-4">
      {{ form.amount.errors }}
      {{ form.amount.label_tag }}
      {% if field.help_text %}
        <p class="help">{{ field.help_text|safe }}</p>
      {% endif %}
      {{ form.amount }}
    </div>
  </div>
  <div id="ingredient-container-1" class="ingredient-container row fieldWrapper">
    <div class="ingredient-div col-md-6 col-sm-6">
    {{ form.ingredient.errors }}
    {{ form.ingredient.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.ingredient }}
    </div>
    <div class="amounts-div col-md-4 col-sm-4">
      {{ form.amount.errors }}
      {{ form.amount.label_tag }}
      {% if field.help_text %}
        <p class="help">{{ field.help_text|safe }}</p>
      {% endif %}
      {{ form.amount }}
    </div>
  </div>
  <br><br>
  <button id="add-ingredient">Add another ingredient</button><br>
  <a href="{% url 'ingredient-create' %}" target="_blank"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Create new ingredient</a>
  <br><br>

  <div class="fieldWrapper">
    {{ form.tags.errors }}
    {{ form.tags.label_tag }}
    {% if field.help_text %}
      <p class="help">{{ field.help_text|safe }}</p>
    {% endif %}
    {{ form.tags }}
  </div>
  <a href="{% url 'tag-create' %}" target="_blank"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Create new tag</a>
  <br><br>
  <!-- End select2 multiple fields -->
  <input id="dish-form-submit" type="submit" value="Submit" />

</form>

{% endblock %}

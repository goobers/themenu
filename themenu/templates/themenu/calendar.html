{% extends "themenu/layout.html" %}

{% block body %}

<div class="calendar">
  <table class="table">
    <tr>
      <th><a href="{% url 'calendar' lastoffset %}" class="btn btn-primary btn-lg">< Week of {{lastweekmonday}}</a></th>
      <th><a href="" class="btn btn-default btn-lg active">Week of {{thisweekmonday}}</a></th>
      <th><a href="{% url 'calendar' nextoffset %}" class="btn btn-primary btn-lg">Week of {{nextweekmonday}} ></a></th>
    </tr>
  </table>
  <br>
  <table class="table-bordered">
  <tr>
    <th></th>
    <th>Monday</th>
    <th>Tuesday</th>
    <th>Wednesday</th>
    <th>Thursday</th>
    <th>Friday</th>
    <th>Saturday</th>
    <th>Sunday</th>
  </tr>
  <tr>
    <td>Breakfast</td>
    {% for breakfast in weekplan.breakfast %}
      <td>
            {% if breakfast.dishes.all %}
                {% for d in breakfast.dishes.all %}
                    <div class="checkbox">
                    <a href="{% url 'dish-detail' d.id %}">{{d.name}}</a><br>
                    <label>
                      <input class="course-checkbox" data-attribute="prepared" data-meal-id="{{breakfast.id}}" data-dish-id="{{d.id}}" type="checkbox"> Prepared
                    </label>
                    <label>
                      <input class="course-checkbox" data-attribute="eaten" data-meal-id="{{breakfast.id}}" data-dish-id="{{d.id}}" type="checkbox"> Eaten
                    </label>
                  </div>
                {% endfor %}
            {% endif%}
      </td>
    {% endfor %}
  </tr>
  <tr>
    <td>Lunch</td>
    {% for lunch in weekplan.lunch %}
      <td>
          {% if lunch.dishes.all %}
              {% for d in lunch.dishes.all %}
                  <div class="checkbox">
                    <a href="{% url 'dish-detail' d.id %}">{{d.name}}</a><br>
                    <label>
                      <input class="course-checkbox" data-attribute="prepared" data-meal-id="{{lunch.id}}" data-dish-id="{{d.id}}" type="checkbox"> Prepared
                    </label>
                    <label>
                      <input class="course-checkbox" data-attribute="eaten" data-meal-id="{{lunch.id}}" data-dish-id="{{d.id}}" type="checkbox"> Eaten
                    </label>
                  </div>
              {% endfor %}
          {% endif%}
      </td>
    {% endfor %}
  </tr>
  <tr>
    <td>Dinner</td>
    {% for dinner in weekplan.dinner %}
      <td>
          {% if dinner.dishes.all %}
              {% for d in dinner.dishes.all %}
                  <div class="checkbox">
                    <a href="{% url 'dish-detail' d.id %}">{{d.name}}</a><br>
                    <label>
                      <input class="course-checkbox" data-attribute="prepared" data-meal-id="{{dinner.id}}" data-dish-id="{{d.id}}" type="checkbox"> Prepared
                    </label>
                    <label>
                      <input class="course-checkbox" data-attribute="eaten" data-meal-id="{{dinner.id}}" data-dish-id="{{d.id}}" type="checkbox"> Eaten
                    </label>
                  </div>
              {% endfor %}
          {% endif%}
      </td>
    {% endfor %}
  </tr>
  <tr>
    <td>Dessert</td>
    {% for dessert in weekplan.dessert %}
      <td>
          {% if dessert.dishes.all %}
              {% for d in dessert.dishes.all %}
                  <div class="checkbox">
                    <a href="{% url 'dish-detail' d.id %}">{{d.name}}</a><br>
                    <label>
                      <input class="course-checkbox" data-attribute="prepared" data-meal-id="{{dessert.id}}" data-dish-id="{{d.id}}" type="checkbox"> Prepared
                    </label>
                    <label>
                      <input class="course-checkbox" data-attribute="eaten" data-meal-id="{{dessert.id}}" data-dish-id="{{d.id}}" type="checkbox"> Eaten
                    </label>
                  </div>
              {% endfor %}
          {% endif%}
      </td>
    {% endfor %}
  </tr>
  <tr>
    <td>Snacks</td>
    {% for snack in weekplan.snack %}
      <td>
          {% if snack.dishes.all %}
              {% for d in snack.dishes.all %}
                  <div class="checkbox">
                    <a href="{% url 'dish-detail' d.id %}">{{d.name}}</a><br>
                    <label>
                      <input class="course-checkbox" data-attribute="prepared" data-meal-id="{{snack.id}}" data-dish-id="{{d.id}}" type="checkbox" > Prepared
                    </label>
                    <label>
                      <input class="course-checkbox" data-attribute="eaten" data-meal-id="{{snack.id}}" data-dish-id="{{d.id}}" type="checkbox"> Eaten
                    </label>
                  </div>
              {% endfor %}
          {% endif%}
      </td>
    {% endfor %}
  </tr>
</table>
</div>

{% endblock %}
